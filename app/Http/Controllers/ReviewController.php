<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class ReviewController extends Controller
{
    /**
     * Получить случайные отзывы для главной страницы
     */
    public function getRandomReviewsForHomepage($limit = 4)
    {
        $reviews = $this->getAllReviews();

        // Перемешиваем массив и берем нужное количество
        shuffle($reviews);

        return array_slice($reviews, 0, $limit);
    }

    /**
     * Получить все отзывы
     */
    private function getAllReviews()
    {
        return [
            [
                'id' => 1,
                'name' => 'Анна Петрова',
                'company' => 'Интернет-магазин "Мода"',
                'position' => 'Директор по маркетингу',
                'avatar' => 'human.jpeg',
                'rating' => 5,
                'text' => 'За 6 месяцев работы с командой SobAlex наш органический трафик вырос на 300%. Профессиональный подход, регулярная отчетность и отличные результаты. Рекомендую!',
                'date' => '2024-01-15',
                'industry' => 'Одежда'
            ],
            [
                'id' => 2,
                'name' => 'Михаил Соколов',
                'company' => 'Завод "МеталлПром"',
                'position' => 'Коммерческий директор',
                'avatar' => 'human2.jpeg',
                'rating' => 5,
                'text' => 'Благодаря SEO-продвижению от SobAlex мы увеличили количество B2B заказов в 2.5 раза. Команда понимает специфику промышленного бизнеса и работает на результат.',
                'date' => '2024-01-10',
                'industry' => 'Производство'
            ],
            [
                'id' => 3,
                'name' => 'Елена Козлова',
                'company' => 'TechStore',
                'position' => 'Владелец бизнеса',
                'avatar' => 'human.webp',
                'rating' => 5,
                'text' => 'Отличная работа! За 8 месяцев вывели нас в ТОП-10 по ключевым запросам. Продажи выросли на 280%. Очень довольны сотрудничеством и планируем продолжать.',
                'date' => '2024-01-05',
                'industry' => 'Электроника'
            ],
            [
                'id' => 4,
                'name' => 'Дмитрий Волков',
                'company' => 'МебельПром',
                'position' => 'Маркетинг-менеджер',
                'avatar' => 'human.jpeg',
                'rating' => 5,
                'text' => 'Профессиональная команда, которая действительно понимает SEO. Наш каталог теперь в ТОП-5 по мебельным запросам, а конверсия выросла на 180%. Спасибо!',
                'date' => '2024-01-01',
                'industry' => 'Мебель'
            ],
            [
                'id' => 5,
                'name' => 'Ольга Новикова',
                'company' => 'АвтоМастер',
                'position' => 'Управляющая',
                'avatar' => 'human2.jpeg',
                'rating' => 5,
                'text' => 'Мобильный трафик вырос на 420%, а количество звонков увеличилось в 2 раза. Отличная работа по локальному SEO. Клиенты теперь легко находят нас в поиске.',
                'date' => '2023-12-28',
                'industry' => 'Автосервис'
            ],
            [
                'id' => 6,
                'name' => 'Сергей Морозов',
                'company' => 'SportWear',
                'position' => 'CEO',
                'avatar' => 'human.webp',
                'rating' => 5,
                'text' => 'Благодаря SobAlex наш бренд стал лидером по спортивным запросам. Онлайн-продажи выросли на 280%, а средний чек увеличился на 25%. Отличный результат!',
                'date' => '2023-12-20',
                'industry' => 'Спорт'
            ],
            [
                'id' => 7,
                'name' => 'Татьяна Лебедева',
                'company' => 'ПищеПром',
                'position' => 'Директор по развитию',
                'avatar' => 'human.jpeg',
                'rating' => 5,
                'text' => 'За год работы увеличили B2B трафик на 380% и количество промышленных заказов в 2.5 раза. Команда отлично понимает специфику B2B сегмента.',
                'date' => '2023-12-15',
                'industry' => 'Производство'
            ],
            [
                'id' => 8,
                'name' => 'Алексей Кузнецов',
                'company' => 'TechSolutions',
                'position' => 'Основатель',
                'avatar' => 'human2.jpeg',
                'rating' => 5,
                'text' => 'Техническое SEO на высшем уровне! Крупные заказы выросли на 320%, а средний проект увеличился на 60%. Рекомендую для IT-компаний.',
                'date' => '2023-12-10',
                'industry' => 'IT'
            ]
        ];
    }
}
