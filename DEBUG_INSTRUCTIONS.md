# Инструкция для отладки FileUpload в Filament

## Текущее состояние

✅ **Выполнено:**
- Filament v4.0.18 и Livewire v3.6.4 (последние версии)
- Данные в БД корректные (относительные пути: `images/filename.jpg`)
- Файлы доступны по HTTP (статус 200)
- CORS настроен правильно
- Логи Laravel чистые
- Создана упрощенная версия FileUpload для тестирования

## Упрощенная конфигурация FileUpload

Сейчас в формах используется минимальная конфигурация:

```php
FileUpload::make('image')
    ->image()
    ->disk('public')
    ->directory('images')
    ->visibility('public'),
```

## Инструкция для тестирования в браузере

1. **Откройте админку Filament:**
   - URL: http://127.0.0.1:8000/admin
   - Войдите в систему

2. **Откройте инструменты разработчика:**
   - Нажмите F12 или Ctrl+Shift+I
   - Перейдите на вкладку "Console"
   - Перейдите на вкладку "Network"

3. **Тестируйте Blog форму:**
   - Перейдите в раздел "Blogs"
   - Откройте существующую запись для редактирования
   - Проверьте поле "Image"

4. **Тестируйте ProjectCase форму:**
   - Перейдите в раздел "Project Cases"
   - Откройте существующую запись для редактирования
   - Проверьте поле "Image"

## Что проверить в консоли браузера

### Console вкладка:
- Есть ли ошибки JavaScript?
- Есть ли ошибки "undefined"?
- Есть ли ошибки CORS?

### Network вкладка:
- Загружается ли изображение при открытии формы?
- Какой статус ответа (200, 404, 403)?
- Есть ли ошибки при загрузке файлов?

## Ожидаемое поведение

✅ **Должно работать:**
- Изображение отображается в превью
- Нет сообщения "waiting for size"
- Нет ошибки "undefined"
- Можно загрузить новое изображение
- Можно удалить существующее изображение

❌ **Если есть проблемы:**
- Скопируйте ошибки из консоли
- Скриншот проблемы
- Опишите, что именно происходит

## Следующие шаги

Если упрощенная версия работает:
1. Постепенно добавлять обратно кастомные методы
2. Тестировать каждый шаг

Если упрощенная версия НЕ работает:
1. Проверить версии PHP и Laravel
2. Проверить настройки веб-сервера
3. Создать issue в репозитории Filament

## Контакты для помощи

Если проблема сохраняется, предоставьте:
- Скриншоты ошибок из консоли
- Логи из Network вкладки
- Версию браузера
- Операционную систему
