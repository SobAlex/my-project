# Руководство по использованию FAQ

## Обзор функциональности

Система FAQ теперь поддерживает гибкое управление видимостью вопросов и ответов на разных страницах сайта.

## Возможности

### 1. Управление видимостью
В админке для каждого FAQ доступны три переключателя:
- **Активно** - общий статус активности FAQ
- **Показывать на главной странице** - отображение в блоке FAQ на главной
- **Показывать на страницах услуг** - отображение в блоке FAQ на всех страницах услуг

### 2. Отображение на сайте
- **Главная страница**: FAQ отображаются между блоком статей и отзывами
- **Страницы услуг**: FAQ отображаются перед финальным CTA блоком
- Интерактивные аккордеоны с анимацией открытия/закрытия
- Адаптивный дизайн для всех устройств

## Как использовать

### Создание нового FAQ
1. Зайдите в админку Filament
2. Перейдите в раздел FAQ
3. Нажмите "Создать"
4. Заполните:
   - Вопрос
   - Ответ
   - Порядок сортировки (чем меньше число, тем выше в списке)
   - Активно (основной переключатель)
   - Показывать на главной странице
   - Показывать на страницах услуг

### Управление существующими FAQ
1. В списке FAQ видны статусы всех переключателей
2. Можете редактировать любой FAQ для изменения настроек видимости
3. FAQ автоматически сортируются по полю "sort_order"

## Логика работы

### Условия отображения
- FAQ отображается только если:
  - `is_active = true` (обязательно)
  - И `show_on_homepage = true` (для главной страницы)
  - ИЛИ `show_on_services = true` (для страниц услуг)

### Примеры настроек
- **FAQ только для главной**: `is_active=true`, `show_on_homepage=true`, `show_on_services=false`
- **FAQ только для услуг**: `is_active=true`, `show_on_homepage=false`, `show_on_services=true`
- **FAQ везде**: `is_active=true`, `show_on_homepage=true`, `show_on_services=true`
- **FAQ отключен**: `is_active=false` (не отображается нигде, независимо от других настроек)

## Технические детали

### Модель FAQ
- Используются поля: `show_on_homepage`, `show_on_services`
- Добавлены скоупы: `visibleOnHomepage()`, `visibleOnServices()`
- Добавлены методы: `isVisibleOnHomepage()`, `isVisibleOnServices()`

### Представления
- Создан partial `partials/faq-section.blade.php` для переиспользования
- Добавлен JavaScript для интерактивности аккордеонов
- Поддержка и главной страницы, и страниц услуг

### Контроллеры
- Главная страница: FAQ загружаются в замыкании роута
- Страницы услуг: FAQ загружаются в каждом методе ServiceController

## Стилизация

FAQ блоки используют существующие Tailwind CSS классы проекта:
- `section-bg` - для секций
- `element-bg` - для карточек FAQ
- `section-title` - для заголовков
- Цветовая схема cyan-500 для акцентов
- Адаптивные отступы и размеры

## Доступность

- Правильные ARIA атрибуты (`aria-expanded`, `aria-controls`)
- Клавиатурная навигация (focus states)
- Семантическая разметка с кнопками для аккордеонов
